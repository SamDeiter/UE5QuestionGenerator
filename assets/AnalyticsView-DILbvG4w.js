import{j as e,I as i,C as M,r as k,v as P,w as _,x as v,P as Y,y as U,z as w,T as y,B as I,A as D,X as S,Y as T,D as R,E as H,F as Q,G as X}from"./index-ChNNoZKa.js";import{L as V}from"./Legend-DxEC7Klc.js";const q=({title:o,value:p,icon:c,color:j})=>{const l={blue:"bg-blue-900/30 text-blue-400",emerald:"bg-emerald-900/30 text-emerald-400",amber:"bg-amber-900/30 text-amber-400",purple:"bg-purple-900/30 text-purple-400"};return e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`p-1.5 rounded-lg ${l[j]}`,children:e.jsx(i,{name:c,size:14})}),e.jsx("span",{className:"text-xs text-slate-400",children:o})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:p})]})},C=({message:o})=>e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500",children:[e.jsx(i,{name:"inbox",size:32,className:"mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:o})]}),W={"Easy MC":"#22c55e","Easy T/F":"#4ade80","Medium MC":"#eab308","Medium T/F":"#facc15","Hard MC":"#ef4444","Hard T/F":"#f87171"},J=({discipline:o,questions:p,color:c,onClose:j})=>{const l=p.filter(a=>a.discipline===o),g=M.map(a=>({name:a.replace(" MC",`
MC`).replace(" T/F",`
T/F`),shortName:a,value:l.filter(u=>u.difficulty===a).length,fill:W[a]})).filter(a=>a.value>0),d=l.filter(a=>a.status==="accepted").length,f=l.filter(a=>!a.status||a.status==="pending").length,z=l.filter(a=>a.status==="rejected").length,x=l.filter(a=>a.critiqueScore!=null),m=x.length>0?Math.round(x.reduce((a,u)=>a+u.critiqueScore,0)/x.length):null;return e.jsxs("div",{className:"bg-slate-900 border-2 rounded-xl p-6 animate-in slide-in-from-top-2 duration-200",style:{borderColor:c},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:c}}),e.jsx("h3",{className:"text-lg font-bold text-white",children:o}),e.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," questions)"]})]}),e.jsx("button",{onClick:j,className:"p-1 hover:bg-slate-800 rounded transition-colors",children:e.jsx(i,{name:"x",size:18,className:"text-slate-400"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Difficulty Breakdown"}),g.length>0?e.jsx("div",{className:"space-y-2",children:g.map(a=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:a.fill}}),e.jsx("span",{className:"text-xs text-slate-300 flex-1",children:a.shortName}),e.jsx("span",{className:"text-sm font-bold text-white",children:a.value})]},a.shortName))}):e.jsx("p",{className:"text-xs text-slate-500",children:"No questions yet"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Status"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("span",{className:"text-xs text-slate-300 flex-1",children:"Accepted"}),e.jsx("span",{className:"text-sm font-bold text-green-400",children:d})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),e.jsx("span",{className:"text-xs text-slate-300 flex-1",children:"Pending"}),e.jsx("span",{className:"text-sm font-bold text-amber-400",children:f})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e.jsx("span",{className:"text-xs text-slate-300 flex-1",children:"Rejected"}),e.jsx("span",{className:"text-sm font-bold text-red-400",children:z})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Quality"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold",style:{color:m?m>=70?"#22c55e":m>=50?"#eab308":"#ef4444":"#64748b"},children:m??"—"}),e.jsx("span",{className:"text-xs text-slate-500",children:"avg score"})]}),e.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[x.length," of ",l.length," critiqued"]}),l.length>0&&e.jsx("div",{className:"mt-3 h-2 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${d/l.length*100}%`}})})]})]})]})},L=Object.keys(X),G={"Technical Art":"#f97316","Lighting & Rendering":"#eab308","Look Development (Materials)":"#84cc16","Animation & Rigging":"#22c55e","VFX (Niagara)":"#06b6d4","World Building & Level Design":"#3b82f6",Blueprints:"#8b5cf6","Game Logic & Systems":"#ec4899","C++ Programming":"#f43f5e",Networking:"#6366f1"},Z={"Easy MC":"#22c55e","Easy T/F":"#4ade80","Medium MC":"#eab308","Medium T/F":"#facc15","Hard MC":"#ef4444","Hard T/F":"#f87171"},ae=({onBack:o,onStartTutorial:p})=>{const[c,j]=k.useState("overview"),[l,g]=k.useState(null),d=P(),f=_();k.useEffect(()=>{!localStorage.getItem("ue5_tutorial_analytics_completed")&&p&&setTimeout(()=>p("analytics"),500)},[]);const z=[{id:"overview",label:"Overview",icon:"layout-dashboard",dataTour:"overview-tab"},{id:"disciplines",label:"Disciplines",icon:"layers",dataTour:"disciplines-tab"},{id:"quality",label:"Quality",icon:"target",dataTour:"quality-tab"}],{disciplineData:x,difficultyData:m,statusData:a,qualityDistribution:u,recentGenerations:O}=k.useMemo(()=>{const t=d.questions||[],n=d.generations||[],N=L.reduce((s,r)=>(s[r]=t.filter($=>$.discipline===r).length,s),{}),h=Object.entries(N).map(([s,r])=>({name:s.replace(" & ",`
`),fullName:s,value:r,fill:G[s]||"#64748b"})).filter(s=>s.value>0).sort((s,r)=>r.value-s.value),A=M.map(s=>({name:s,value:t.filter(r=>r.difficulty===s).length,fill:Z[s]})).filter(s=>s.value>0),F={accepted:t.filter(s=>s.status==="accepted").length,pending:t.filter(s=>!s.status||s.status==="pending").length,rejected:t.filter(s=>s.status==="rejected").length},E=[{name:"Accepted",value:F.accepted,fill:"#22c55e"},{name:"Pending",value:F.pending,fill:"#f59e0b"},{name:"Rejected",value:F.rejected,fill:"#ef4444"}].filter(s=>s.value>0),B=[{range:"90-100",min:90,max:100,fill:"#22c55e"},{range:"70-89",min:70,max:89,fill:"#84cc16"},{range:"50-69",min:50,max:69,fill:"#eab308"},{range:"30-49",min:30,max:49,fill:"#f97316"},{range:"0-29",min:0,max:29,fill:"#ef4444"}].map(s=>({...s,count:t.filter(r=>r.critiqueScore>=s.min&&r.critiqueScore<=s.max).length})).filter(s=>s.count>0),K=n.slice(-10).map((s,r)=>({name:`Gen ${r+1}`,tokens:(s.tokensUsed?.input||0)+(s.tokensUsed?.output||0),questions:s.questionsGenerated||0,quality:s.averageQuality||0}));return{disciplineData:h,difficultyData:A,statusData:E,qualityDistribution:B,recentGenerations:K}},[d]),b=d.summary||{};return e.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[e.jsx("div",{className:"bg-slate-900 border-b border-slate-800 px-6 py-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:[e.jsx(i,{name:"arrow-left",size:16}),"Back"]}),e.jsx("div",{className:"w-px h-6 bg-slate-700"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:e.jsx(i,{name:"bar-chart-2",size:24,className:"text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Generation metrics • Quality trends • Discipline breakdown"})]})]})]}),e.jsx("div",{className:"flex items-center gap-1 bg-slate-800/50 rounded-lg p-1",children:z.map(t=>e.jsxs("button",{onClick:()=>j(t.id),"data-tour":t.dataTour,className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all ${c===t.id?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[e.jsx(i,{name:t.icon,size:14}),t.label]},t.id))})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[c==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(q,{title:"Total Questions",value:b.totalQuestions||0,icon:"file-text",color:"blue"}),e.jsx(q,{title:"Acceptance Rate",value:`${b.acceptanceRate||0}%`,icon:"check-circle",color:"emerald"}),e.jsx(q,{title:"Avg Quality",value:b.averageQuality||0,icon:"star",color:"amber"}),e.jsx(q,{title:"Total Cost",value:`$${(b.estimatedCost||0).toFixed(4)}`,icon:"dollar-sign",color:"purple"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-300 mb-4 flex items-center gap-2",children:[e.jsx(i,{name:"pie-chart",size:16,className:"text-emerald-400"}),"Question Status"]}),e.jsx("div",{className:"h-64",children:a.length>0?e.jsx(v,{width:"100%",height:"100%",children:e.jsxs(Y,{children:[e.jsx(U,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,dataKey:"value",label:({name:t,percent:n})=>`${t} ${(n*100).toFixed(0)}%`,children:a.map((t,n)=>e.jsx(w,{fill:t.fill},n))}),e.jsx(y,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155"}})]})}):e.jsx(C,{message:"No question data yet"})})]}),e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-300 mb-4 flex items-center gap-2",children:[e.jsx(i,{name:"sliders",size:16,className:"text-amber-400"}),"Difficulty Distribution"]}),e.jsx("div",{className:"h-64",children:m.length>0?e.jsx(v,{width:"100%",height:"100%",children:e.jsxs(I,{data:m,margin:{top:10,right:10,left:0,bottom:30},children:[e.jsx(D,{strokeDasharray:"3 3",stroke:"#334155"}),e.jsx(S,{dataKey:"name",stroke:"#94a3b8",tick:{fontSize:10,angle:-45,textAnchor:"end"},height:60}),e.jsx(T,{stroke:"#94a3b8"}),e.jsx(y,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155"}}),e.jsx(R,{dataKey:"value",radius:[4,4,0,0],children:m.map((t,n)=>e.jsx(w,{fill:t.fill},n))})]})}):e.jsx(C,{message:"No difficulty data yet"})})]})]}),e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-300 mb-4 flex items-center gap-2",children:[e.jsx(i,{name:"trending-up",size:16,className:"text-blue-400"}),"Recent Generation Activity"]}),e.jsx("div",{className:"h-64",children:O.length>0?e.jsx(v,{width:"100%",height:"100%",children:e.jsxs(H,{data:O,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorTokens",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorQuestions",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]})]}),e.jsx(D,{strokeDasharray:"3 3",stroke:"#334155"}),e.jsx(S,{dataKey:"name",stroke:"#94a3b8",tick:{fontSize:11}}),e.jsx(T,{stroke:"#94a3b8"}),e.jsx(y,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155"}}),e.jsx(V,{}),e.jsx(Q,{type:"monotone",dataKey:"tokens",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorTokens)",name:"Tokens"}),e.jsx(Q,{type:"monotone",dataKey:"questions",stroke:"#22c55e",fillOpacity:1,fill:"url(#colorQuestions)",name:"Questions"})]})}):e.jsx(C,{message:"Generate some questions to see trends"})})]})]}),c==="disciplines"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-300 mb-6 flex items-center gap-2",children:[e.jsx(i,{name:"layers",size:20,className:"text-purple-400"}),"Questions by Discipline"]}),e.jsx("div",{className:"h-96",children:x.length>0?e.jsx(v,{width:"100%",height:"100%",children:e.jsxs(I,{data:x,layout:"vertical",margin:{top:5,right:30,left:120,bottom:5},children:[e.jsx(D,{strokeDasharray:"3 3",stroke:"#334155",horizontal:!1}),e.jsx(S,{type:"number",stroke:"#94a3b8"}),e.jsx(T,{type:"category",dataKey:"fullName",stroke:"#94a3b8",width:110,tick:{fontSize:11}}),e.jsx(y,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155"},formatter:t=>[t,"Questions"]}),e.jsx(R,{dataKey:"value",radius:[0,4,4,0],children:x.map((t,n)=>e.jsx(w,{fill:t.fill},n))})]})}):e.jsx(C,{message:"No discipline data yet. Generate some questions!"})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:L.map(t=>{const n=(d.questions||[]).filter(A=>A.discipline===t).length,N=G[t]||"#64748b",h=l===t;return e.jsxs("button",{onClick:()=>g(h?null:t),className:`bg-slate-900 border rounded-xl p-4 transition-all text-left ${h?"border-2 ring-2 ring-opacity-50":"border-slate-800 hover:border-slate-700"}`,style:{borderColor:h?N:void 0,"--tw-ring-color":h?N:void 0},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:N}}),h&&e.jsx(i,{name:"chevron-up",size:14,className:"text-slate-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:n}),e.jsx("p",{className:"text-xs text-slate-400 mt-1 line-clamp-2",children:t})]},t)})}),l&&e.jsx(J,{discipline:l,questions:d.questions||[],color:G[l],onClose:()=>g(null)})]}),c==="quality"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-300 mb-6 flex items-center gap-2",children:[e.jsx(i,{name:"target",size:20,className:"text-emerald-400"}),"Quality Score Distribution"]}),e.jsx("div",{className:"h-64",children:u.length>0?e.jsx(v,{width:"100%",height:"100%",children:e.jsxs(I,{data:u,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsx(D,{strokeDasharray:"3 3",stroke:"#334155"}),e.jsx(S,{dataKey:"range",stroke:"#94a3b8"}),e.jsx(T,{stroke:"#94a3b8"}),e.jsx(y,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155"},formatter:t=>[t,"Questions"]}),e.jsx(R,{dataKey:"count",radius:[4,4,0,0],children:u.map((t,n)=>e.jsx(w,{fill:t.fill},n))})]})}):e.jsx(C,{message:"Run AI Critique on questions to see quality distribution"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-900/30 rounded-lg",children:e.jsx(i,{name:"zap",size:20,className:"text-blue-400"})}),e.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Total Tokens"})]}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:[(f.total/1e3).toFixed(1),"k"]}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Input: ",(f.avgInput/1e3).toFixed(1),"k avg • Output: ",(f.avgOutput/1e3).toFixed(1),"k avg"]})]}),e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:e.jsx(i,{name:"check-circle",size:20,className:"text-emerald-400"})}),e.jsx("span",{className:"text-sm font-medium text-slate-300",children:"URL Success Rate"})]}),e.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:"100%"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"536 verified URLs in database"})]}),e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-900/30 rounded-lg",children:e.jsx(i,{name:"award",size:20,className:"text-purple-400"})}),e.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Generations"})]}),e.jsx("p",{className:"text-3xl font-bold text-white",children:b.totalGenerations||0}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Total generation batches run"})]})]})]})]})]})};export{ae as default};
