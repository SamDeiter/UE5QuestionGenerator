import{g as N,j as e,I as t,T as v,U as h,d as x}from"./index-CH-axy5H.js";const k=({showSettings:g,setShowSettings:c,config:r,handleChange:o,showApiKey:n,setShowApiKey:j,onClearData:w,files:s,handleDetectTopics:b,isDetecting:d,fileInputRef:i,handleFileChange:m,removeFile:p,isApiReady:u})=>{if(!g)return null;const f=N();return e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800/50",children:[e.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsx(t,{name:"settings",className:"text-slate-400"})," Settings"]}),e.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-white transition-colors","aria-label":"Close Settings",children:e.jsx(t,{name:"x"})})]}),e.jsxs("div",{className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto custom-scrollbar",children:[e.jsx(v,{tokenUsage:f}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-300 mb-3 flex items-center gap-2",children:[e.jsx(t,{name:"file-text",size:16,className:"text-blue-400"}),"Source Material"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("label",{className:"text-xs font-bold uppercase text-slate-400",children:"Source Files"}),s&&s.length>0&&e.jsx("button",{onClick:b,disabled:d||!u,className:"text-[10px] flex items-center gap-1 text-indigo-400 bg-indigo-900/50 px-2 py-1 rounded border border-indigo-700/50 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"...":"Detect"})]}),e.jsxs("div",{onClick:()=>i?.current?.click(),className:"border-2 border-dashed border-slate-700 rounded p-4 hover:bg-slate-900 cursor-pointer text-center bg-slate-900/50 transition-colors",children:[e.jsx(t,{name:"upload",className:"mx-auto text-slate-600 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Upload .csv"}),e.jsx("input",{type:"file",ref:i,onChange:m,multiple:!0,className:"hidden"})]}),s&&s.map((a,l)=>e.jsxs("div",{className:"flex justify-between bg-slate-900 p-2 rounded border border-slate-800 text-xs text-slate-400",children:[e.jsx("span",{className:"truncate",children:a.name}),e.jsx("button",{onClick:()=>p(l),className:"text-red-500 hover:text-red-400 transition-colors",children:"x"})]},l))]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:h.API_KEY_LABEL}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n?"text":"password",name:"apiKey",value:r.apiKey,onChange:o,placeholder:"AIzaSy...",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded text-sm text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none pr-10 transition-all"}),e.jsx("button",{onClick:()=>j(!n),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white transition-colors","aria-label":n?"Hide API Key":"Show API Key",children:e.jsx(t,{name:n?"eye-off":"eye",size:16})})]}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Required for generating questions. Stored locally."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:h.SHEET_URL_LABEL}),e.jsx("input",{type:"text",name:"sheetUrl",value:r.sheetUrl,onChange:o,placeholder:"https://script.google.com/...",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded text-sm text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition-all"}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Required for Load/Export to Sheets."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Creator Name"}),e.jsx("input",{type:"text",name:"creatorName",value:r.creatorName,onChange:o,className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded text-sm text-white focus:border-indigo-500 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Reviewer Name"}),e.jsx("input",{type:"text",name:"reviewerName",value:r.reviewerName,onChange:o,className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded text-sm text-white focus:border-indigo-500 outline-none transition-all"})]})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-800",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("label",{className:"text-xs font-bold uppercase text-slate-500",children:"Source Files (CSV)"}),s&&s.length>0&&e.jsx("button",{onClick:b,disabled:d||!u,className:"text-[10px] flex items-center gap-1 text-indigo-400 bg-indigo-900/50 px-2 py-1 rounded border border-indigo-700/50 disabled:opacity-50",children:d?"...":"Detect Topics"})]}),e.jsxs("div",{onClick:()=>i.current?.click(),className:"border-2 border-dashed border-slate-700 rounded p-4 hover:bg-slate-800 cursor-pointer text-center bg-slate-800/50 transition-colors",children:[e.jsx(t,{name:"upload",className:"mx-auto text-slate-600 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Click to upload .csv"}),e.jsx("input",{type:"file",ref:i,onChange:m,multiple:!0,className:"hidden"})]}),s&&s.map((a,l)=>e.jsxs("div",{className:"flex justify-between bg-slate-800 p-2 rounded border border-slate-700 text-xs text-slate-400",children:[e.jsx("span",{className:"truncate",children:a.name}),e.jsx("button",{onClick:()=>p(l),className:"text-red-500 hover:text-red-400",children:e.jsx(t,{name:"x",size:14})})]},l))]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-300 mb-3 flex items-center gap-2",children:[e.jsx(t,{name:"database",size:16,className:"text-purple-400"}),"Vertex AI Training Data"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>x(!0),className:"flex-1 px-3 py-2 bg-purple-900/30 hover:bg-purple-900/50 text-purple-200 text-xs font-bold rounded border border-purple-700/50 transition-colors flex items-center justify-center gap-2",title:"Download questions with >75% score",children:[e.jsx(t,{name:"download",size:14}),"Download Good Data"]}),e.jsxs("button",{onClick:()=>x(!1),className:"flex-1 px-3 py-2 bg-slate-700/30 hover:bg-slate-700/50 text-slate-400 text-xs font-bold rounded border border-slate-600/50 transition-colors flex items-center justify-center gap-2",title:"Download questions with <75% score",children:[e.jsx(t,{name:"download",size:14}),"Download Bad Data"]})]}),e.jsxs("button",{onClick:()=>{const a=x("all");alert(`Exported ${a} total questions for training`)},className:"w-full mt-2 px-3 py-2 bg-blue-900/20 hover:bg-blue-900/30 text-blue-400 rounded flex items-center justify-center gap-2 transition-colors text-xs font-bold border border-blue-900/30",title:"Download all questions",children:[e.jsx(t,{name:"download",size:14}),"Export All Training Data"]}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-2 text-center",children:"Exports JSONL format for Vertex AI fine-tuning."})]}),e.jsxs("div",{className:"bg-red-900/10 p-4 rounded-lg border border-red-900/30",children:[e.jsxs("h3",{className:"text-sm font-bold text-red-400 mb-2 flex items-center gap-2",children:[e.jsx(t,{name:"alert-triangle",size:16}),"Data Management"]}),e.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"For destructive operations (clear data, factory reset), use the Danger Zone."}),e.jsxs("button",{onClick:()=>{c(!1),window.openDangerZone&&window.openDangerZone()},className:"w-full px-4 py-2 bg-red-900/20 hover:bg-red-900/40 text-red-400 text-sm font-bold rounded border border-red-900/50 transition-colors flex items-center justify-center gap-2",children:[e.jsx(t,{name:"alert-triangle",size:16}),"Open Danger Zone"]})]})]})]})})};export{k as default};
