import{r as t,c as P,j as e,I as a,g as S}from"./index-DPzZXleO.js";const z=({config:n,onClose:C,apiKeyReady:E,effectiveApiKey:j})=>{const[o,i]=t.useState(""),[x,N]=t.useState("Generate a set of 3 questions about Nanite in Unreal Engine 5."),[c,v]=t.useState(n.temperature||.7),[d,y]=t.useState(n.model||"gemini-2.0-flash"),[p,m]=t.useState(""),[l,u]=t.useState(!1),[h,r]=t.useState(""),[f,b]=t.useState(null);t.useEffect(()=>{g()},[]);const g=()=>{const s=P(n,"");i(s)},w=async()=>{u(!0),b(null),r("Sending request..."),m("");try{const s=await S(j,o,x,r,c,d);m(s),r("Complete")}catch(s){console.error("Playground error:",s),b(s.message||"Failed to generate content"),r("Failed")}finally{u(!1)}};return e.jsxs("div",{className:"flex flex-col h-full bg-slate-950 text-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-800 bg-slate-900",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:e.jsx(a,{name:"terminal",className:"text-purple-400",size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-white",children:"Prompt Playground"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Test and iterate on system prompts"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold",children:"Model"}),e.jsxs("select",{value:d,onChange:s=>y(s.target.value),className:"bg-slate-950 border border-slate-700 rounded px-2 py-1 text-xs outline-none focus:border-purple-500",children:[e.jsx("option",{value:"gemini-2.0-flash",children:"Gemini 2.0 Flash"}),e.jsx("option",{value:"gemini-1.5-pro",children:"Gemini 1.5 Pro"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 w-32",children:[e.jsxs("span",{className:"text-xs text-slate-400 uppercase font-bold",children:["Temp: ",c]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:c,onChange:s=>v(parseFloat(s.target.value)),className:"w-full accent-purple-500 h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("button",{onClick:g,className:"px-3 py-1.5 text-xs font-bold text-slate-400 hover:text-white bg-slate-800 hover:bg-slate-700 rounded border border-slate-700 transition-colors flex items-center gap-2",title:"Reset to current app defaults",children:[e.jsx(a,{name:"refresh-cw",size:12})," Reset"]}),e.jsxs("button",{onClick:w,disabled:l,className:`px-4 py-2 text-sm font-bold text-white rounded flex items-center gap-2 transition-all shadow-lg ${l?"bg-slate-700 cursor-not-allowed text-slate-500":"bg-purple-600 hover:bg-purple-500 shadow-purple-900/20 hover:scale-105 active:scale-95"}`,children:[l?e.jsx(a,{name:"loader",className:"animate-spin",size:16}):e.jsx(a,{name:"play",size:16}),l?"Running...":"Run Prompt"]})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-1/2 flex flex-col border-r border-slate-800",children:[e.jsxs("div",{className:"flex-1 flex flex-col min-h-0 border-b border-slate-800",children:[e.jsxs("div",{className:"px-4 py-2 bg-slate-900/50 flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"System Prompt"}),e.jsxs("span",{className:"text-[10px] text-slate-500 font-mono",children:[o.length," chars"]})]}),e.jsx("textarea",{value:o,onChange:s=>i(s.target.value),className:"flex-1 bg-slate-950 p-4 text-xs font-mono text-slate-300 resize-none outline-none focus:bg-slate-900/30 transition-colors",spellCheck:!1,placeholder:"Enter system instructions here..."})]}),e.jsxs("div",{className:"h-1/3 flex flex-col min-h-0",children:[e.jsx("div",{className:"px-4 py-2 bg-slate-900/50 flex justify-between items-center border-t border-slate-800",children:e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"User Prompt"})}),e.jsx("textarea",{value:x,onChange:s=>N(s.target.value),className:"flex-1 bg-slate-950 p-4 text-sm text-slate-200 resize-none outline-none focus:bg-slate-900/30 transition-colors",placeholder:"Enter your test input here..."})]})]}),e.jsxs("div",{className:"w-1/2 flex flex-col bg-slate-900/30",children:[e.jsxs("div",{className:"px-4 py-2 bg-slate-900/50 flex justify-between items-center border-b border-slate-800",children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"Model Output"}),h&&e.jsx("span",{className:"text-xs text-slate-500 italic",children:h})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:f?e.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-900/50 rounded-lg text-red-200 text-sm",children:[e.jsx("strong",{className:"block mb-1",children:"Error"}),f]}):p?e.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:e.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm text-slate-300",children:p})}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-600",children:[e.jsx(a,{name:"terminal",size:48,className:"mb-4 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Ready to execute."}),e.jsx("p",{className:"text-xs mt-2",children:"Configure prompts on the left and click Run."})]})})]})]})]})};export{z as default};
