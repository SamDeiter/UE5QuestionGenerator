import{R as g,j as e,I as a,L as c}from"./index-B6q4DyBi.js";const b=({onClose:n,onExport:d,questionCount:i})=>{const[t,r]=g.useState({format:"sheets",includeRejected:!1,languages:["English"],disciplines:"all",scope:"all",segmentFiles:!1,limit:null}),o=Object.keys(c),x=s=>{r(l=>({...l,languages:l.languages.includes(s)?l.languages.filter(h=>h!==s):[...l.languages,s]}))},m=()=>{d(t),n()};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:n,children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-2xl max-w-2xl w-full p-6 space-y-6",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-800 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-green-600 p-2 rounded-lg",children:e.jsx(a,{name:"download",size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Bulk Export"}),e.jsxs("p",{className:"text-xs text-slate-400",children:["Export ",i," questions with custom options"]})]})]}),e.jsx("button",{onClick:n,className:"text-slate-400 hover:text-white transition-colors",children:e.jsx(a,{name:"x",size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider",children:"1. Select Scope"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 rounded border border-slate-700 bg-slate-800/50 hover:bg-slate-800 cursor-pointer transition-colors",children:[e.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${t.scope==="all"?"bg-green-600 border-green-500":"border-slate-600 bg-slate-900"}`,children:t.scope==="all"&&e.jsx(a,{name:"check",size:14,className:"text-white"})}),e.jsx("input",{type:"radio",name:"scope",className:"hidden",checked:t.scope==="all",onChange:()=>r(s=>({...s,scope:"all"}))}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-bold text-slate-200",children:"All Questions"}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Export everything in the database (",i," questions)"]})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 rounded border border-slate-700 bg-slate-800/50 hover:bg-slate-800 cursor-pointer transition-colors",children:[e.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${t.scope==="filtered"?"bg-green-600 border-green-500":"border-slate-600 bg-slate-900"}`,children:t.scope==="filtered"&&e.jsx(a,{name:"check",size:14,className:"text-white"})}),e.jsx("input",{type:"radio",name:"scope",className:"hidden",checked:t.scope==="filtered",onChange:()=>r(s=>({...s,scope:"filtered"}))}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-bold text-slate-200",children:"Current Filtered View"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Export only questions currently visible in the list"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider",children:"2. Select Format"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["sheets","csv","json","markdown"].map(s=>e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded border cursor-pointer transition-all ${t.format===s?"bg-indigo-900/30 border-indigo-500":"bg-slate-800/50 border-slate-700 hover:bg-slate-800"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center transition-colors ${t.format===s?"bg-indigo-500 border-indigo-400":"border-slate-600 bg-slate-900"}`,children:t.format===s&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsx("input",{type:"radio",name:"format",className:"hidden",checked:t.format===s,onChange:()=>r(l=>({...l,format:s}))}),e.jsxs("span",{className:"text-sm font-bold text-slate-200 uppercase flex items-center gap-2",children:[e.jsx(a,{name:s==="sheets"?"table":s==="json"?"code":s==="markdown"?"file-code":"file-text",size:14}),s==="sheets"?"Google Sheets":s]})]},s))}),t.format==="sheets"&&e.jsxs("p",{className:"text-xs text-amber-400 flex items-center gap-1 mt-2",children:[e.jsx(a,{name:"alert-circle",size:12}),e.jsx("span",{children:"Tip: If columns look wrong, delete the top header row in your Sheet and try again."})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider",children:"3. Options"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("label",{className:"flex items-center gap-3 p-2 rounded hover:bg-slate-800/50 cursor-pointer",children:[e.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${t.includeRejected?"bg-green-600 border-green-500":"border-slate-600 bg-slate-900"}`,children:t.includeRejected&&e.jsx(a,{name:"check",size:14,className:"text-white"})}),e.jsx("input",{type:"checkbox",className:"hidden",checked:t.includeRejected,onChange:()=>r(s=>({...s,includeRejected:!s.includeRejected}))}),e.jsx("span",{className:"text-sm text-slate-300",children:"Include Rejected Questions"})]}),t.format==="csv"&&e.jsxs("label",{className:"flex items-center gap-3 p-2 rounded hover:bg-slate-800/50 cursor-pointer",children:[e.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${t.segmentFiles?"bg-green-600 border-green-500":"border-slate-600 bg-slate-900"}`,children:t.segmentFiles&&e.jsx(a,{name:"check",size:14,className:"text-white"})}),e.jsx("input",{type:"checkbox",className:"hidden",checked:t.segmentFiles,onChange:()=>r(s=>({...s,segmentFiles:!s.segmentFiles}))}),e.jsx("span",{className:"text-sm text-slate-300",children:"Segment Files (Separate by Language/Discipline)"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2",children:[e.jsx("div",{className:"w-5 flex justify-center",children:e.jsx(a,{name:"hash",size:14,className:"text-slate-500"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-slate-300",children:"Limit to:"}),e.jsx("input",{type:"number",min:"1",max:i,placeholder:"All",className:"w-20 bg-slate-900 border border-slate-700 rounded px-2 py-1 text-xs text-white focus:border-indigo-500 outline-none",value:t.limit||"",onChange:s=>r(l=>({...l,limit:s.target.value?parseInt(s.target.value):null}))}),e.jsx("span",{className:"text-xs text-slate-500",children:"questions"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider",children:"4. Languages"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:o.map(s=>e.jsxs("label",{className:`flex items-center gap-2 p-2 rounded border cursor-pointer transition-all ${t.languages.includes(s)?"bg-slate-800 border-slate-600":"bg-slate-900/50 border-slate-800 opacity-60 hover:opacity-100"}`,children:[e.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${t.languages.includes(s)?"bg-indigo-600 border-indigo-500":"border-slate-600 bg-slate-900"}`,children:t.languages.includes(s)&&e.jsx(a,{name:"check",size:10,className:"text-white"})}),e.jsx("input",{type:"checkbox",className:"hidden",checked:t.languages.includes(s),onChange:()=>x(s)}),e.jsxs("span",{className:"text-xs font-medium text-slate-300",children:[c[s]," ",s]})]},s))})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-800",children:[e.jsx("button",{onClick:n,className:"flex-1 py-3 px-4 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg font-medium transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:m,disabled:t.languages.length===0,className:`flex-1 py-3 px-4 rounded-lg font-bold flex items-center justify-center gap-2 transition-all ${t.languages.length===0?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,children:[e.jsx(a,{name:"download",size:16}),"Export ",t.format.toUpperCase()]})]})]})})})};export{b as default};
